<app-navbar></app-navbar>

<main class="hero-section">
  <div class="container">
    <h1>The service you need, in just one minute!</h1>
    <p class="subtitle">Find the best professionals and services in Tunisia.</p>

    <div class="search-inputs">
      <select class="search-select">
        <option value="">Choose governorate</option>
      </select>
      <select class="search-select">
        <option value="">Choose service</option>
      </select>

      <button class="search-button">
        <i class="fas fa-search"></i> Search
      </button>
    </div>
  </div>
</main>

<section class="doctors-section">
  <div class="container-service">
    <h2>Available customer service</h2>
    <div class="doctors-grid">
      <div class="doctor-card" *ngFor="let customer of serviceCustomers | slice: 0:4">
        <div class="doctor-image">
          <img src="./assets/img/personnalise.png" alt="Service Image">
        </div>
        <div class="doctor-specialty">{{ customer.nom }}</div>
        <h3 class="doctor-name">Available</h3>
        <div class="doctor-location">{{ customer.adresse }}</div>
        <div class="doctor-actions">
          <!-- Add the click event to select the service and set selectedService -->
          <button class="action-button" (click)="selectService(customer)" [routerLink]="['/demande']" 
          [queryParams]="{ serviceId: customer.id, serviceNom: customer.nom }">
          Book
        </button>
        <button class="action-button" (click)="openServiceModal(customer)">
          View Details
        </button>
        
        </div>
        <div class="doctor-reviews">
          <span class="star" data-index="1">&#9734;</span>
          <span class="star" data-index="2">&#9734;</span>
          <span class="star" data-index="3">&#9734;</span>
          <span class="star" data-index="4">&#9734;</span>
          <span class="star" data-index="5">&#9734;</span>
        </div>
      </div>
      
    </div>
    <div *ngIf="serviceCustomers.length > 4" class="see-more-link">
      <a routerLink="/services">View more</a>
    </div>
  </div>
</section>

<section class="info-section">
  <div class="container info-container">
    <div class="info-text">
      <h2>Why Choose Us?</h2>
      <p>Our platform connects you with trusted professionals and services tailored to your needs.</p>
      <p>Experience a seamless journey with our user-friendly interface and quick service selection.</p>
      <p>Benefit from personalized recommendations to find exactly what you’re looking for.</p>
      <p>Trust us to deliver quality and convenience, all in one place.</p>
      <a routerLink="/about" class="learn-more-btn">Learn More</a>
    </div>
    <div class="info-image">
      <img src="./assets/img/Live collaboration-rafiki.png" alt="Info Section Image">
    </div>
  </div>
</section>

<section class="professionals-section">
  <div class="container-service">
    <h2>Our Professionals</h2>
  </div>
  <div class="container-service">
    <div class="doctors-grid">
<!-- Liste des professionnels -->
<div class="doctor-card" *ngFor="let professional of professionals | slice: 0:4">
  <div class="doctor-image">
    <img src="./assets/img/personnalise.png" alt="Service Image">
  </div>
  <div class="doctor-name">{{ professional.nomComplet }}</div>
  <div class="doctor-specialty">{{ professional.sousCategorie.nom }}</div>
  <div class="doctor-location">{{ professional.adresse }}</div>
  <div class="doctor-actions">
    <button class="action-button" (click)="openModal(professional)">
      View Details
    </button>
  </div>
</div>
    </div>
    <div *ngIf="serviceCustomers.length > 4" class="see-more-link">
      <a routerLink="/services">View more</a>
    </div>
  </div>
</section>
<div class="modal" [class.show]="isModalOpen">
  <div class="modal-content">
    <span class="close-button" (click)="closeModal()">&times;</span>
    <h2>{{ selectedProfessional?.nomComplet || 'N/A' }}</h2>
    
    <table class="modal-table">
      <tr>
        <td class="icon-column"><i class="fas fa-map-marker-alt"></i></td>
        <td>{{ selectedProfessional?.adresse || 'N/A' }}</td>
        <td class="icon-column"><i class="fas fa-phone-alt"></i></td>
        <td>{{ selectedProfessional?.telephone || 'N/A' }}</td>
      </tr>
      <tr>
        <td class="icon-column"><i class="fas fa-certificate"></i></td>
        <td>{{ selectedProfessional?.certification || 'N/A' }}</td>
        <td class="icon-column"><i class="fas fa-briefcase"></i></td>
        <td>{{ selectedProfessional?.experience || 'N/A' }}</td>
      </tr>
      <tr>
        <td colspan="4">
          <i class="fas fa-info-circle ml-12">  </i>   
          {{ selectedProfessional?.description || 'N/A' }}
        </td>
      </tr>
    </table>
  </div>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-row">
      <div class="footer-column">
        <h3>About Us</h3>
        <p>We connect you with trusted professionals and services tailored to your needs.</p>
      </div>
      <div class="footer-column">
        <h3>Quick Links</h3>
        <ul>
          <li><a routerLink="/about">About Us</a></li>
          <li><a routerLink="/services">Services</a></li>
          <li><a routerLink="/professionals">Professionnels</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Contact</h3>
        <p><i class="fas fa-map-marker-alt"></i> Tunisia</p>
        <p><i class="fas fa-phone-alt"></i> +216 23 456 789</p>
        <p><i class="fas fa-envelope"></i> easyConnect@gmail.com</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2024 Your Company. All rights reserved.</p>
    </div>
  </div>
</footer>
<!-- Modal for Service -->
<div class="modal" [class.show]="isServiceModalOpen">
  <div class="modal-content">
    <span class="close-button" (click)="closeServiceModal()">&times;</span>
    <h2>{{ selectedService?.nom || 'N/A' }}</h2>
    
    <table class="modal-table">
      <tr>
        <td class="icon-column"><i class="fas fa-dollar-sign"></i></td>
        <td>Prix: {{ selectedService?.prix || 'N/A' }}</td>
        <td class="icon-column"><i class="fas fa-map-marker-alt"></i></td>
        <td>Adresse: {{ selectedService?.adresse || 'N/A' }}</td>
      </tr>
      <tr>
        <td class="icon-column"><i class="fas fa-tags"></i></td>
        <td>Sous Catégorie: {{ selectedService?.sousCategorie?.nom || 'N/A' }}</td>
        <td class="icon-column"><i class="fas fa-align-left"></i></td>
        <td>Description: {{ selectedService?.description || 'N/A' }}</td>
      </tr>
    </table>
  </div>
</div>
